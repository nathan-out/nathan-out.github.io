[{"content":"Le 404CTF est une compétition organisé par Télécom Sud-Paris en partenariat avec la DGSE. Cette année (2022) ce CTF était marqué par le double anniversaire ; les 80 ans du BCRA (service secret de la France Libre) et les 40 ans de la DGSE.\nPlus d\u0026rsquo;informations ici\nC\u0026rsquo;était mon second CTF et je suis globalement satisfait de mes résultats. J\u0026rsquo;ai malheureusement perdu le détail de mon score mais le mail récapitulatif est là pour me rappeler mon placement :\nBravo nathan.out ! Vous êtes arrivé parmi les 1000 premiers du challenge. [...] Les épreuves ont été conçues par le club HackademINT et hébergées par OVHcloud. Voici votre classement : 189/2460 avec 13293 pts N\u0026#39;hésitez pas à nous faire des retours sur le 404 CTF à l\u0026#39;adresse suivante : \u0026lt;\u0026gt; A bientôt pour d\u0026#39;autres challenges ! L’équipe du 404 CTF L\u0026rsquo;objectif était d\u0026rsquo;atteindre le top 100 pour obtenir l\u0026rsquo;invitation à un salon de cybersécurité mais je ne suis malheureusement pas parvenu à ce résultat. La compétition était rude mais c\u0026rsquo;était une superbe expérience, j\u0026rsquo;ai beaucoup aimé le format sur 1 mois. En espérant qu\u0026rsquo;ils soit de nouveau organisé l\u0026rsquo;année prochaine\u0026hellip;\n","date":"6 août 2022","permalink":"/a-propos/resultats-ctf/4042022/","section":"A Propos","summary":"Le 404CTF est une compétition organisé par Télécom Sud-Paris en partenariat avec la DGSE.","title":"404 CTF 2022"},{"content":"Pour mon tout premier CTF, je n\u0026rsquo;ai pas commencé par le plus simple\u0026hellip;\nLe France CyberSecurity Challenge est une compétition de cybersécurité dont les challenges sont créés par les agents de l\u0026rsquo;ANSSI. Elle vise à recruter les meilleurs talents français pour l\u0026rsquo;ECSC (European Cybersecurity Challenge).\nPlus d\u0026rsquo;information ici\nRésumé du CTF : à peine réussi les challenges d\u0026rsquo;intro mais avec une réussite dans un challenge de cryptographie. Les challenges étaient très plaisants à faire tout de même, j\u0026rsquo;ai énormément appris durant ces quelques semaines de compétition, à refaire en 2023, donc !\nLa capture est un peu petite :\n8 challenges d\u0026rsquo;introduction 4 challenges \u0026ldquo;welcome\u0026rdquo; 1 challenge de cryptographie (pour le coup très simple en comparaison des autres) ","date":"6 août 2022","permalink":"/a-propos/resultats-ctf/fcsc2022/","section":"A Propos","summary":"Pour mon tout premier CTF, je n\u0026rsquo;ai pas commencé par le plus simple\u0026hellip;","title":"FCSC 2022"},{"content":"Un vue succincte de mes résultats en CTF.\n","date":"5 août 2022","permalink":"/a-propos/resultats-ctf/","section":"A Propos","summary":"Un vue succincte de mes résultats en CTF.","title":"Resultats CTF"},{"content":"Etudiant en cyberdéfense, développeur, amateur de CTF et éternel curieux. Tombe régulièrement dans des rabbit holes.\nSite Description GitHub Mon Github Rootme Profil Rootme TryHackMe Profil TryHackMe ","date":"5 août 2022","permalink":"/a-propos/","section":"A Propos","summary":"Etudiant en cyberdéfense, développeur, amateur de CTF et éternel curieux. Tombe régulièrement dans des rabbit holes.","title":"A Propos"},{"content":"","date":"5 août 2022","permalink":"/","section":"Blog","summary":"","title":"Blog"},{"content":"Tous mes articles, plus ou moins bien rangés.\n","date":"5 août 2022","permalink":"/posts/","section":"Mes articles","summary":"Tous mes articles, plus ou moins bien rangés.","title":"Mes articles"},{"content":"Des démonstrations de certains de mes projets.\n","date":"5 août 2022","permalink":"/projets/","section":"Projets","summary":"Des démonstrations de certains de mes projets.","title":"Projets"},{"content":"Instagram regorge de bots (ou robots), la plateforme leur mène une guerre totale avec des moyens colossaux et des technologies d\u0026rsquo;analyse du comportement poussées pour déterminer si un compte est managé par un robot ou non. Pourquoi ? Ces robots sont parfois mal intentionnés : arnaque, harcèlement, désinformation ou tout simplement spam. C\u0026rsquo;est pourquoi si un robot se fait détecter, il est automatiquement supprimé de la plateforme, maintenir un réseau de bot est donc compliqué et risqué, on peut tout perdre très rapidement. De l\u0026rsquo;autre côté, les créateurs de bots rivalisent d\u0026rsquo;ingéniosité afin de rester invisible, c\u0026rsquo;est un sujet passionnant, une vraie guerre invisible, mais ça n\u0026rsquo;est pas le sujet d\u0026rsquo;aujourd\u0026rsquo;hui.\nIl est existe pourtant une technique afin de créer un bot légitime aux yeux d\u0026rsquo;Instagram : utiliser l\u0026rsquo;API de Meta (ex Facebook). Ce bot est donc connu de la plateforme, il possède quelques limitations mais fera parfaitement l\u0026rsquo;affaire pour ce que souhaite en faire.\nUn bot, mais pour quoi faire ? # Il y a quelques temps, je suis tombé sur cet article au titre plutôt sexy : How I Eat For Free in NYC Using Python, Automation, Artificial Intelligence, and Instagram. API, Intelligence Artificielle, Python, automatisation et analyse de données : ça vend du rêve ! Pour résumer l\u0026rsquo;article, un ingénieur, avec beaucoup trop de temps à perdre visiblement, s\u0026rsquo;est réveillé un matin avec une envie : manger gratuitement dans les restaurants de New-York. Puisqu\u0026rsquo;il a des compétences en informatique, il décide de créer un bot Instagram qui va analyser les publications culinaires qui fonctionnent le mieux à New-York, de les re-poster sur son compte, d\u0026rsquo;observer ce qu\u0026rsquo;il se passe et, bien sûr, de monétiser sa visibilité. Tout cela, boosté avec de l\u0026rsquo;intelligence artificielle et des techniques de big data pour être le plus efficace possible. L\u0026rsquo;objectif final est d\u0026rsquo;échanger la visibilité de son compte contre des repas gratuits dans les meilleurs restaurant de la ville, du génie ! Benjamin Code en a fait une vidéo qui récapitule le projet, je vous invite aussi à lire l\u0026rsquo;article, c\u0026rsquo;est passionnant.\nJe me suis dis que je pouvais moi aussi tenter l\u0026rsquo;expérience, à plus petite échelle et avec moins de connaissances que lui. L\u0026rsquo;objectif est de créer un compte qui pourrait publier du contenu automatiquement, sans analyse de donnée (type big data) et sans IA, dans un premier temps.\nA la recherche de contenu # Publier du contenu c\u0026rsquo;est bien, mais encore faut-il en avoir. Ca tombe bien puisque quelques jours auparavant, un ami m\u0026rsquo;a transmis ce repo Github qui regroupe des API publiques. C\u0026rsquo;est une vraie mine d\u0026rsquo;or et l\u0026rsquo;une de ces API m\u0026rsquo;a fait de l\u0026rsquo;oeil : Metropolitan Museum of Art. Elle regroupe une quantité colossale d\u0026rsquo;oeuvres d\u0026rsquo;art (avec des photos !). Le principe est simple : j\u0026rsquo;envoie une requête à l\u0026rsquo;API, elle me répond avec une oeuvre d\u0026rsquo;art et des informations en plus, voilà pour le contenu.\nL\u0026rsquo;API d\u0026rsquo;Instagram : voyage en terre inconnue # Comme expliqué plus haut, pour avoir un bot \u0026ldquo;legit\u0026rdquo; je dois passer par l\u0026rsquo;API d\u0026rsquo;Instagram. Le truc qui m\u0026rsquo;a fait perdre beaucoup, beaucoup, de temps a été de comprendre comment avoir un accès. En effet, cette API nécessite une configuration particulière assez pénible et laborieuse à mettre en place :\nun compte Facebook Developer (un numéro de téléphone valide vous sera demandé) une page Facebook liée à ce compte developer un compte Instagram professionnel (impossible de le lier à l\u0026rsquo;API sinon) une tripotée de configuration, d\u0026rsquo;identifiants et de secrets à avoir remuez le tout, avec quelques tutos en ligne et un peu de temps, vous devriez arriver à faire votre première requête A noter quand même qu\u0026rsquo;Instagram ou Facebook ne vous laissera pas tranquille. En effet, il m\u0026rsquo;est arrivé de jongler entre mes comptes persos et ceux pour mon bot\u0026hellip; ce qui a eu pour effet de bloquer mon compte bot ! Tout ça parce que j\u0026rsquo;avais une activité \u0026ldquo;suspecte\u0026rdquo; avec un compte nouvellement créé, quand je vous disais que ces grandes plateformes faisaient la guerre aux bots\u0026hellip; Il faut parfois attendre un peu, parfois valider son mail, bref c\u0026rsquo;est pas super pratique.\nUne fois cela fait, il \u0026ldquo;suffit\u0026rdquo; de comprendre l\u0026rsquo;ordre des requêtes pour arriver à poster une image sur Instagram. Là encore ça n\u0026rsquo;est pas si simple mais une fois qu\u0026rsquo;on a compris l\u0026rsquo;ordre et ce que nous retourne chaque requête, le script est plutôt facile à coder. Nous voilà donc avec un accès et un compté légitime et des données en pagaille. Ne reste plus qu\u0026rsquo;à coder le robot pour qu\u0026rsquo;il aille de lui-même chercher les images dont il a besoin et les publier.\nHe\u0026rsquo;s alive ! # Cette partie a été la plus longue, de loin. J\u0026rsquo;ai passé quelques soirées et raccourci des nuits mais c\u0026rsquo;était la partie la plus fun, bien plus que d\u0026rsquo;obtenir des accès à l\u0026rsquo;API. Il ne reste qu\u0026rsquo;à traiter les données pour les publier.\nDu tris # Le premier problème est que tous les éléments de l\u0026rsquo;API ne contiennent pas d\u0026rsquo;image. Par exemple lorsqu\u0026rsquo;on requête l\u0026rsquo;API pour obtenir un élément de sa collection, il arrive qu\u0026rsquo;il n\u0026rsquo;y ait pas d\u0026rsquo;images : on a un titre un auteur et tout un tas d\u0026rsquo;autres données\u0026hellip; mais pas d\u0026rsquo;images. Premier filtre sur les éléments qui ont une image.\nEnsuite, certains des éléments de l\u0026rsquo;API ont plusieurs images, une image \u0026ldquo;primaire\u0026rdquo; et des images \u0026ldquo;secondaires\u0026rdquo;, qui sont des photos de l\u0026rsquo;oeuvre prises sous différents angles. Second filtre pour avoir des éléments avec plusieurs images.\nInstagram n\u0026rsquo;accepte pas tous les ratios d\u0026rsquo;images ; une image trop étirée verticalement ou horizontalement ne sera pas acceptée pour être publiée. Troisième filtre.\nEnfin, en faisant mes tests j\u0026rsquo;ai remarqué que certaines catégories d\u0026rsquo;oeuvres retournaient des images vraiment très peu intéressantes : des fragments de poterie, par exemple. Quatrième filtre.\nUne fois qu\u0026rsquo;on a des images à peu près jolies et publiables sur Insta, on peut continuer à perfectionner notre publication. J\u0026rsquo;aime bien rendre à César ce qui est à César ; c\u0026rsquo;est pourquoi j\u0026rsquo;ai eu à coeur de mettre toutes les infos en ma possession (quand j\u0026rsquo;en avais) pour chaque oeuvre publiée :\ntitre auteur (+ dates de naissance et de mort) type d\u0026rsquo;oeuvre collection crédits et d\u0026rsquo;autres\u0026hellip; Reste une chose primordiale, les HASHTAGS.\nUn peu d\u0026rsquo;intelligence\u0026hellip; # Ces foutus hashtags m\u0026rsquo;en auront fait voir de toutes les couleurs ! Pour le faire courte, c\u0026rsquo;est ce qui va permettre de référencer ma publication, il faut donc qu\u0026rsquo;ils soient :\nprécis relativement nombreux (mais pas trop non plus) cohérents avec la publication Pour cela j\u0026rsquo;ai découpé mes hashtags en 3 catégories :\nles hashtags statiques, c\u0026rsquo;est-à-dire ceux qui seront toujours là, par exemple \u0026ldquo;#art\u0026rdquo;, \u0026ldquo;#masterpiece\u0026rdquo;, \u0026ldquo;#picture\u0026rdquo;, \u0026ldquo;#museum\u0026rdquo;, \u0026ldquo;#exposition\u0026rdquo;. les hashtags dynamiques, ceux directement issus des données de l\u0026rsquo;oeuvre sur la publication : nom de l\u0026rsquo;oeuvre, de l\u0026rsquo;artiste, type, date, culture\u0026hellip; les hastags intelligents, qui ne sont ni issus des données de l\u0026rsquo;image, ni de ma main. Ils doivent être tirés de l\u0026rsquo;image. J\u0026rsquo;avais dans l\u0026rsquo;idée d\u0026rsquo;extraire des mots-clefs de l\u0026rsquo;oeuvre, par exemple pour l\u0026rsquo;image ci-dessous on aurait pu avoir : bridge, phone, sunset, hand, road, sky\u0026hellip;\n\u0026ldquo;Quoi de mieux que l\u0026rsquo;intelligence artificielle pour faire ça ?\u0026rdquo; - me demandais-je naïvement.\nEffectivement il existe des modèles d\u0026rsquo;IA pour effectuer ce travail, je l\u0026rsquo;ai ajouté à mon projet, j\u0026rsquo;ai trouvé un peu de code sur internet pour le faire en python (le langage que j\u0026rsquo;utilise), et ça fonctionne ! Par contre les résultats sont très, très mitigés. Par exemple, pour l\u0026rsquo;image du dessus, le modèle trouvait un \u0026ldquo;ours polaire\u0026rdquo;, une \u0026ldquo;montgolfière\u0026rdquo; et autres bizareries\u0026hellip;\n\u0026hellip;ou pas ! # Alors j\u0026rsquo;ai fais des hypothèses, j\u0026rsquo;ai cherché, j\u0026rsquo;ai galéré, j\u0026rsquo;ai même pensé que je faisais \u0026ldquo;rentrer\u0026rdquo; mon image dans le mauvais sens dans mon IA\u0026hellip; mais non ! Le modèle est juste mauvais. Pour comprendre il faut que j\u0026rsquo;explique l\u0026rsquo;apprentissage supervisé en deux mots.\nOn donne une immeeeeennnnse quantité d\u0026rsquo;images au modèle qu\u0026rsquo;on souhaite entraîner avec à chaque fois des mots-clefs associés à chaque image (par exemple une image de canard avec comme mot-clef \u0026ldquo;canard\u0026rdquo;, \u0026ldquo;oiseau\u0026rdquo;, etc\u0026hellip;). Pour chaque image l\u0026rsquo;IA va tenter d\u0026rsquo;elle-même de trouver des mots-clefs et une fois ses résultats donnés, elle les compare avec ce qu\u0026rsquo;elle aurait dû trouver (\u0026ldquo;canard\u0026rdquo;, \u0026ldquo;oiseau\u0026rdquo;, etc\u0026hellip;), et elle \u0026ldquo;s\u0026rsquo;améliore\u0026rdquo; en fonction de l\u0026rsquo;écart entre ce qu\u0026rsquo;elle a prédit et ce qu\u0026rsquo;elle aurait dû trouver.\nLe soucis de cette méthode c\u0026rsquo;est que l\u0026rsquo;IA ne va reconnaître que ce sur quoi elle s\u0026rsquo;est entraînée. Plus on souhaite une IA performante sur une large gamme d\u0026rsquo;image, plus on doit lui donner une quantité de donnée, un dataset, grand et bien construit. Si notre IA doit seulement différencier un panneau stop d\u0026rsquo;un passage piéton, c\u0026rsquo;est \u0026ldquo;facile\u0026rdquo;. Si, en revanche, elle doit pouvoir détecter n\u0026rsquo;importe quoi sur n\u0026rsquo;importe quelle image, c\u0026rsquo;est une autre paire de manches.\nLe soucis c\u0026rsquo;est que le modèle pré-entraîné que j\u0026rsquo;ai voulu utilisé était trop généraliste, il pouvait tout reconnaître mais faisait beaucoup trop d\u0026rsquo;erreurs (je n\u0026rsquo;avais parfois aucun mot en rapport, même de loin, avec mon image !). Tout ça pour dire qu\u0026rsquo;à moins d\u0026rsquo;entraîner moi-même l\u0026rsquo;IA sur un dataset d\u0026rsquo;oeuvre d\u0026rsquo;art proches de celles sur lesquelles je souhaitais extraire les mots-clefs, je ne pourrais rien en tirer. Je ne dispose ni du temps, ni de la puissance de calcul, ni de l\u0026rsquo;espace de stockage, ni des compétences, ni du dataset pour le faire. Une prochaine fois peut-être ?\nEn vérité ce sujet mériterait un article à part entière tellement c\u0026rsquo;est bien plus compliqué et passionnant que ça.\nEncore un petit effort # Après ce détour dans les méandres de l\u0026rsquo;IA, me voilà de retour sur mon bot, sans mes mots-clef \u0026ldquo;intelligents\u0026rdquo;, tant pis ! Après quelques tests, quelques sesssions de \u0026ldquo;debug\u0026rdquo;, j\u0026rsquo;ai un programme fonctionnel ! Il est capable de rechercher, traiter et poster une publication Instagram ! Ne reste qu\u0026rsquo;à le mettre sur un serveur, programmer ses horaires de diffusion et surveiller que tout se passe bien dans un premier temps, avant de le laisser vivre sa vie de bot Instagram. Il publie tous les jours à 10h et 20h.\nSans plus attendre, voilà Archie, le robot ! Je vous invite à aller voir son compte @archie_the_aesthete pour ne rater aucune publi, pensez à vous abonner et à lâcher un like, ça lui fera plaisir ! :).\nBon, pour le moment le succès n\u0026rsquo;est pas au rendez-vous, mais ça viendra\u0026hellip;\nQuelques-unes de ses publications :\nLa suite ? # Il y aurait encore des tas et des tas d\u0026rsquo;améliorations à apporter. On est encore loin de l\u0026rsquo;article qui m\u0026rsquo;a inspiré ce projet, il manque l\u0026rsquo;IA bien sûr et le côté analyse de données. Cela fait 3 semaines maintenant qu\u0026rsquo;Archie tourne et je ne vois pas vraiment d\u0026rsquo;évolution du compte, il n\u0026rsquo;y a pas d\u0026rsquo;abonnés ni de tendance à la hausse. Pour monayer ce compte, on repassera mais le projet était vraiment cool j\u0026rsquo;ai appris énormément de choses ! Peut-être que je rendrai le code libre, pensez à checker mon github.\nJe pense à une V2 avec plein de nouvelles fonctionnalités qui permettraient d\u0026rsquo;améliorer la visibilité du robot :\ncréation d\u0026rsquo;une story à chaque nouvelle publication des oeuvres plus alléchantes (certaines ne sont pas du tout \u0026ldquo;instagrammables\u0026rdquo;, faut être honnête) garder un feed cohérent (des couleurs proches les unes des autres entre les publications), c\u0026rsquo;est ce qui fait \u0026ldquo;pro\u0026rdquo;, il parait de l\u0026rsquo;analyse de données pour savoir ce qui fonctionne, à quels horaires publier, etc\u0026hellip; Bref il reste encore du boulot et des tas de trucs intéressants à explorer ! Sur ce, bon vent, Archie !\n","date":"5 août 2022","permalink":"/posts/jai-cree-un-bot-instagram-100-pourcent-legal-et-totalement-automatise/","section":"Mes articles","summary":"Instagram regorge de bots (ou robots), la plateforme leur mène une guerre totale avec des moyens colossaux et des technologies d\u0026rsquo;analyse du comportement poussées pour déterminer si un compte est managé par un robot ou non.","title":"J'ai créé un bot Instagram 100% légal et totalement automatisé"},{"content":"Je vais vous expliquer simplement comment cette faille, découverte le 10 décembre 2021, est en mesure de mettre à feu et à sang l’écrasante majorité des systèmes informatiques. La légende voudrait qu’elle ait été découverte sur un serveur Minecraft dont l’unique but était de faire des farces. Cette faille a le bon goût de ne pas être trop technique, laissez vous guider, je vous explique tout …\nD\u0026rsquo;abord une librairie : log4j # Tout commence par la librairie log4j qui est écrite en Java (oui le même truc qui vous demande souvent une mise à jour). Une librairie c’est du code écrit par des développeurs pour automatiser des tâches et qui est ensuite réutilisée par d’autres développeurs dans des projets plus gros. C’est un peu comme une brique spécifique qui permet de construire plus rapidement des maisons. Une grande partie des applications, des sites, des logiciels utilisées sur le web (ou reliés au web) utilise log4j et donc Java. Cette librairie sert essentiellement à gérer les logs, c\u0026rsquo;est-à-dire la trace de ce qu\u0026rsquo;il se passe sur le serveur.\nEnsuite la faille : log4shell # Log4shell est le nom de la faille, et elle se base sur une vulnérabilité de log4j. Mais comment ça fonctionne ? En fait log4j pour fonctionner reçoit des données et les traite. Cependant, dans les données qu’on lui envoie on peut lui signifier des tâches automatiques à faire (par exemple, ajouter dynamiquement l\u0026rsquo;heure), et notamment lui demander d’aller chercher du contenu quelque part sur internet. Si on demande à log4j d’aller chercher du code Java… la librairie va exécuter ce code ! C’est ça la faille log4shell.\nCela signifie que si j’envoie la bonne donnée à un serveur, celui-ci demande à log4j de la traiter. Cependant cette donnée dit à la librairie d’aller chercher une ressource sur internet qui n’est autre que du code Java malveillant que j’ai moi-même codé. Une fois ce code récupéré, le serveur va l’exécuter. Je peux alors exécuter n’importe quel code Java sur un serveur ne m’appartenant pas. On peut utiliser ce code pour créer un « reverse shell » (d’où le nom log4shell) : un accès direct, non autorisé et avec tous les droits sur le serveur. On a donc un accès total et absolu sur la machine ciblée.\n(en vérité le niveau d\u0026rsquo;accès dépend de plusieurs facteurs, mais souvent on peut obtenir des accès assez importants voire carrément administrateurs)\nOn peut ensuite utiliser cet accès pour essayer d’accéder à d’autres machines, créer un autre accès plus discret, mettre hors service le serveur, voler des données…\nLog4j everywhere # Cette librairie est partout, et sa faille avec. Un exemple : le rover de la NASA actuellement sur Mars utilise log4j. Les pirates peuvent donc librement scanner internet à la recherche d’un serveur, d’une application, d’un site qui utilise cette librairie pour ensuite prendre le contrôle de la machine. C’est d’ailleurs ce qu’ils font depuis que la faille a été exposée au grand jour, comme on peut le voir sur ce site qui répertorie les tentatives d’exploitation de la vulnérabilité : log4j-tracker. Mais il y a pire, encore faut-il savoir qu\u0026rsquo;on utilise cette librairie ! Les logiciels sont de plus en plus complexes et embarquent avec eux des librairies\u0026hellip; qui embarquent elles-mêmes des librairies, et ainsi de suite ! On peut donc être vulnérable au second, troisième\u0026hellip; n-ième degré, sans le savoir.\nA l’heure de l’écriture de ces lignes (17 décembre 2021) c’est une course contre les pirates qui est menée par les responsables cybersécurité de toutes les entreprises/organismes qui utilisent cette librairie. Certains publient des correctifs alors que dans le même temps des pirates cherchent à les contourner.\nMes pensées vont à tous les responsables cyber qui passeront (à minima) des fêtes de fin d’année mouvementées…\n","date":"17 décembre 2021","permalink":"/posts/la-plus-grosse-faille-de-la-decennie-log4shell/","section":"Mes articles","summary":"Je vais vous expliquer simplement comment cette faille, découverte le 10 décembre 2021, est en mesure de mettre à feu et à sang l’écrasante majorité des systèmes informatiques.","title":"La Plus Grosse Faille De La Décennie Log4shell"},{"content":"Comment les centrales nucléaires iraniennes on-t-elles été infiltrées et sabotées par un programme informatique ?\nCet article est un issu d\u0026rsquo;un devoir d\u0026rsquo;analyse de la menace effectué durant ma première année d\u0026rsquo;école d\u0026rsquo;ingénieur.\nTout commence en Biélorussie\u0026hellip; # En juin 2010, la société biélorusse VirusBlockAda reçoit un appel d’un de ses clients irannien. Certains ordinateurs ont un comportement étrange, ils redémarrent sans raison et indiquent des BSOD (erreur système fatale). Ce qui semblait être une infection mineure, s’avère être bien plus mystérieux quand l’équipe biélorusse découvre qu’un programme malveillant est à l’œuvre et que celui-ci est signé par des sociétés comme Verisign ou encore Realtek Semiconductor Corps, des compagnies reconnues, sérieuses et fiables.\nQuelques mots sur la signature # La signature est un procédé cryptographique qui permet d\u0026rsquo;approuver la provenance et l\u0026rsquo;intégrité (non-modification) de l\u0026rsquo;élément signé, ici un programme. Cela permet d\u0026rsquo;être certain que le programme provient bien d\u0026rsquo;une organisation de confiance. C\u0026rsquo;est cette organisation qui signe le logiciel grâce à un certificat, et chacun peut ensuite vérifier que la signature est bien celle de l\u0026rsquo;organisme émetteur.\nLes certificats sont créés par l\u0026rsquo;organisme et sont extrêmement bien protégés. En effet, si un pirate pouvait obtenir un certificat d\u0026rsquo;une société comme Google, il pourrait créé un programme se revendiquant de cette entreprise. Les machines approuvant les programmes de chez Google laisseraient donc aussi ce programme passer.\nLa première cyber-arme de l\u0026rsquo;Histoire # Après des recherches plus poussées, il s’avère que ce programme utilise quatre « zero days » (failles pour lesquelles il n\u0026rsquo;existe pas de correctif, souvent inconnues avant leur exploitation) et qu’il passe outre la plupart des antivirus. VirusBlockAda venait de découvrir Stuxnet, la première « cyber arme » connue de l’histoire qui visait des systèmes industriels très précis, à savoir des centrifugeuses iraniennes d’enrichissement d’uranium. Ces sites hautement sensibles et protégées se sont soudainement rendues compte que leurs machines étaient infectées depuis au moins un an par un « APT » (advanced persistant threat = menace avancée persistante). Pire que cela, après des mois d’investigation, les iraniens ont reconnu que Stuxnet avait réussi à « causer des problèmes à un nombre limité de nos centrifugeuses » mais aussi que le virus aurait été introduit via des clefs usb infectées. Enfin, selon Microsoft, une équipe sur place aurait été nécessaire afin d’avoir une connaissance de l’environnement suffisante pour développer le programme. Plusieurs questions se posent :\ncomment une attaque d’une telle complexité, d’une telle envergure, a-t-elle pu être menée à bien ? comment est-ce possible qu’un virus puisse impacter ce type d’installation ? pourquoi est-il passé sous les radars ? Contexte # Cette attaque inédite s’inscrit dans un environnement géopolitique complexe entre l’Iran, ses voisins (notamment Israël), et les puissances occidentales. Depuis des décennies, l’Iran mène un programme nucléaire civil. Cependant, plusieurs puissances étrangères pensent que ce programme de recherche cache un côté militaire visant à l’acquisition de l’arme nucléaire. Cela menace l’équilibre géopolitique précaire de la région, en particulier avec Israël. Ce programme, quel que soit son objectif, nécessite des centrifugeuses et c’est l’entreprise Siemens qui les fournit. C’est un des points clefs du projet et c’est à ces dispositifs que Stuxnet s’attaque. Aujourd’hui, il semblerait que cette attaque ait été orchestrée par les États-Unis dans le cadre de l’opération « Olympic Games » (voir l\u0026rsquo;affaire Snowden), avec l’aide d’Israël. Ce dernier ne se cachant plus que la cyberguerre fait désormais partie intégrante de sa doctrine militaire.\nA noter que ni les Etats-Unis, ni Israël n\u0026rsquo;ont revendiqués l\u0026rsquo;attaque. Il y a toujours des doutes quant aux commanditaires de cette opération. Plusieurs éléments semblent indiquer qu\u0026rsquo;il pourrait s\u0026rsquo;agir de ces deux pays. De manière générale, un état ne revendique jamais ses actions offensives dans le cyber-espace (guerre en Ukraine à part).\nExploitation # Ce virus se propage de trois manières différentes, via des clefs USB, des fichiers projets Siemens vérolés, ou par réplication dans le réseau. De plus, il est capable d’établir un réseau peer-to-peer pour se mettre à jour même sans connexion internet. En se répliquant, le virus est capable de communiquer avec ses copies, si l\u0026rsquo;une de ces copies possède un accès à internet, elle va se mettre à jour et transmettre les mises à jour aux autres copies sur le réseau (bien souvent non connnectées à internet).\nStuxnet dispose de deux atouts pour rester discret : il est signé par des entreprises officielles et il peut modifier son comportement en fonction des antivirus installés sur les machines. A noter que ce programme vise des installations très spécifiques. S’il ne se trouve pas sur l’une d’elles, il se réplique sur les machines à sa portée et se supprime. Il est important de comprendre la subtilité avec laquelle Stuxnet vise ses cibles. Ce programme a été retrouvé a posteriori dans plusieurs systèmes industriels de par le monde, notamment dans une centrale nucléaire russe. Cela grâce à l’efficacité de la propagation du vers (type de virus). Cependant, les cibles semblent être les centrales nucléaires iraniennes, aux vues des versions et configurations extrêmement précises requises pour que Stuxnet opère. Cela renforce également les soupçons d’une aide interne pour obtenir ces informations ultra-sensibles.\nVient ensuite la phase d’installation et de persistance durant laquelle il utilise une faille zero-day pour élever ses privilèges et se copier dans des processus systèmes de Windows, le rendant quasiment invisible. Une fois arrivé à son objectif, Stuxnet communique avec l’API de la centrifugeuse et modifie les données envoyées et reçues. Se faisant, il masque les alertes de sécurité et change périodiquement la vitesse de rotation des centrifugeuses. L\u0026rsquo;objectif visé était d\u0026rsquo;endommager les centrifugeuses pour retarder le programme nucléaire irannien. Dans le même temps, le système de pilotage indique un comportement normal de l’automate. On retrouve ici les caractéristiques types d’une APT avec beaucoup d’efforts investis sur la persistance de Stuxnet.\nEnfin, l’objectif de Stuxnet était vraisemblablement de ne jamais être découvert puisqu’une date d’effacement du programme était fixée au 24 juin 2012. Ce programme étant décrit comme « la cyber arme la plus complexe de l’Histoire » dispose même d’un processus d’effacement complexe et évolué. Ce code a été ensuite analysé puis récupéré par des agences étatiques et des cyber-criminels pour produire d’autres virus redoutables tels que Flame ou Duqu. Flame serait à l’origine d’attaques visant la destruction de données.\nCe qu\u0026rsquo;il faut retenir # Cette opération nous montre qu’une attaque d’une telle envergure n’est possible qu’avec le travail d’une ou plusieurs puissances étrangères aux moyens et capacités opérationnelles importants. Elle nécessite de disposer de renseignements très précis et fiables qui ne peuvent être dispensés que par ceux travaillant au plus proche des cibles. On observe également qu’une avance technologique est obligatoire ainsi que des exactions illégales préalables (certificats volés, espionnage). La détection de pareilles menaces est difficile et leurs exactions est parfois invisible.\nLa cyberguerre est largement mondialisée et il convient de s’y préparer, autant offensivement que défensivement.\nSource # Pour aller plus loin je vous recommande vivement les articles ci-dessous et pour les plus techniques cette conférence Youtube par un employé de Microsoft qui explique le fonctionnement de Stuxnet : 27C3: Adventures in analyzing Stuxnet (Bruce Dang from Microsoft).\nThe man who found Stuxnet, Sergey Ulasen in the spotlight - Eugene Kaspersky Stuxnet - Wikipedia Stuxnet - Generation NT Programme nucléaire irannien - Wikipedia Virus Stuxnet, l\u0026rsquo;arroseur arrosé - Infoguerre Analysis shows traces wiper malware no links flame - Threatpost Opération Olympic Games - Wikipedia Signature de code - Wikipedia ","date":"21 novembre 2021","permalink":"/posts/stuxnet-infiltrer-et-compromettre-une-centrale-nucleaire/","section":"Mes articles","summary":"Comment les centrales nucléaires iraniennes on-t-elles été infiltrées et sabotées par un programme informatique ?","title":"Stuxnet : Infiltrer Et Compromettre Une Centrale Nucleaire"},{"content":"Ce titre n’est (presque) pas une blague. VOUS avez le niveau pour comprendre comment vos données en ligne sont protégées. Oui, même si vous n’avez peut-être pas un bac scientifique, ni même le brevet, je vous assure que si vous vous laissez porter par ces quelques lignes, vous comprendrez tout de l’algorithme de chiffrement RSA. Ce protocole de chiffrement, ou algorithme, tire son nom de ces trois inventeurs, Rivest Shamir et Adleman.\nMise en situation : vous êtes sur Internet en train de choisir votre prochain smartphone, vous l’avez trouvé et vient le douloureux moment du passage en caisse. Vous rentrez vos codes bancaires et ça y est, ce smartphone est à vous. Pendant ce temps là, je suis confortablement installé derrière mon ordinateur et j’espionne vos activités en ligne (tel un « hacker » des films américains, voyez ?), je récupère toutes les données que vous envoyez sur le web. Croyez-moi, cela est d’une simplicité déconcertante. Comment, à ce moment-là, garantir que je ne puisse pas utiliser vos codes bancaires pour vider votre compte en banque ?\nIn maths we trust # La réponse est simple : en les rendant illisibles. C’est ce qu’on appelle la cryptographie : transformer un texte qui a du sens en un autre qui n’en a apparemment pas. Cela est utilisé depuis la nuit des temps, Nabuchodonosor (le roi de Babylone), César et d’autres ont utilisé la cryptographie. A l’époque les codes étaient rudimentaires et simples, aujourd’hui cela s’est un peu complexifié. On utilise des protocoles, des modes d’emplois, des chiffrements très puissants. L’un des plus connus et abordables est RSA.\nAujourd’hui, la cryptographie est partout, mais derrière ce nom quasi mystique se cache des mathématiques à la fois très simples et terriblement puissantes. Avant de vous expliquer en quoi consiste RSA, il convient de revoir quelques bases de mathématiques.\nEn maths il existe pleins de nombre, je ne vous apprends rien. Certains ont des propriétés particulières, c’est le cas de 2,3,5,7,11,13… ce sont des nombres premiers. Ils ont quelque chose de spécial… ils n’ont aucun diviseurs, exceptés 1 et eux-même. Par exemple, si on veut diviser 13 par autre chose que 1 ou 13, on ne trouvera jamais un entier, c’est-à-dire un chiffre sans virgule. Essayez, vous verrez : 13/2=6,5 13/3=4,3, il n’existe aucun nombre excepté 1 ou 13 qui divise 13, ou un nombre premier en général.\nLes nombres premiers ont quelques particularités intéressantes. Déjà, il en existe une infinité, c’est prouvé. Se baser sur de l’infini pour faire de la sécurité, c’est terriblement rassurant. Par contre on sait aussi qu’ils se raréfient au fur et à mesure qu’on en cherche des grands, c’est un peu moins pratique. Mais la propriété qui nous intéresse le plus, c’est la décomposition en facteurs premiers d’un nombre…\nPrenons un nombre quelconque, par exemple 42. On peut réécrire 42 comme étant 2x3x7. 2, 3 et 7 sont des nombres premiers. On vient donc de décomposer un nombre en le produit de ses facteurs premiers. La propriété qui est intéressante ici, c’est le fait que cette décomposition est unique, c’est un peu comme un identifiant unique pour tout nombre.\nJe récapitule, on a d’un côté un identifiant unique, et de l’autre des éléments aux propriétés particulières qui sont en nombre infinis, croyez moi on se rapproche d’un algorithme de chiffrement… il ne manque qu’une dernière chose, de la complexité.\n## La complexité\nEn informatique, quand on parle de complexité, ça ne veut pas dire exactement la même chose que dans le langage courant. La complexité d’un programme informatique, d’un algorithme, peut se comprendre comme étant la mesure d’à quel point la tâche est fastidieuse à réaliser. Par exemple, si je vous demande de retrouver, dans une liste de 100 nombres aléatoires le chiffre 5, la tâche est plus fastidieuse que si la liste de nombre est ordonnée, par exemple dans l’ordre croissant. Dans le second cas, votre recherche sera bien plus rapide. C’est ce qu’on nomme la complexité algorithmique. Plus la complexité d’un algorithme est élevée, et plus l’ordinateur mettra de temps à réaliser la tâche qu’on lui a attribuée. Ni vous ni moi n’aimons qu’un ordinateur « rame » et c’est pourquoi on s’efforce de construire des algorithmes performants. Seulement, en sécurité, on souhaite tout l’inverse, que certains programmes soient les plus lents possibles. C’est exactement ce qui est recherché en cryptographie. Courage ! Encore quelques lignes et vous allez comprendre …\nRevenons à nos nombres. Tout à l’heure nous avons pris un nombre au hasard, 42, et nous l’avons décomposé en le produit de ses facteurs premiers. La tâche n’est pas bien difficile, et par tâtonnement, elle n’a pas pris beaucoup de temps. Cependant, imaginez maintenant que je vous demande la même chose… avec ce nombre :\n1 388 657 789\nLa tâche est autrement plus compliquée, vous ne trouvez pas ? Par contre, vérifier qu’un produit de facteurs premier correspond bien à ce nombre est autrement plus facile ; il suffit de calculer et de comparer. Et bien l’algorithme RSA repose exactement sur ce problème-là.\nEn d’autre termes, il repose sur le fait qu’un nombre suffisamment grand est très difficilement décomposable en produit de facteurs premiers. Alors même que vérifier si un nombre est bien le résultat d’un produit est simple, l’inverse, c’est-à-dire le décomposer, est autrement plus compliqué. Entendons-nous bien, quand je dis compliqué cela signifie que trouver la décomposition en facteurs premiers est long, même pour un ordinateur. Cela ne signifie pas que c’est “mathématiquement” très compliqué au sens strict du terme, avec beaucoup de temps et de volonté, il serait tout à fait possible d’y arriver. C’est juste très long, et ça l’est aussi pour un ordinateur.\nPour vous donner une image, c’est un peu comme faire un puzzle. Il est très facile, rapide, de vérifier qu’un puzzle est correct, par contre résoudre le puzzle demande beaucoup plus de temps ; c’est un problème asymétrique. Le problème est simple à vérifier mais difficile à résoudre. C’est l’essence même de RSA.\nC’est cette asymétrie là qui permet que je ne puisse pas déchiffrer vos codes bancaires chiffrés lorsque vous effectuez un achat en ligne. Avec un nombre de départ, qu’on appelle une clef publique, suffisamment grande, de l’ordre d’un nombre composé de plus de 300 chiffres (oui vous avez bien lu!), il est impossible, dans un temps raisonnable, de trouver sa décomposition en facteurs premiers. Cette décomposition là on l’appelle clef privée, et c’est elle et elle seule qui permet de déchiffrer le message.\nSi vous pensez avoir saisi le concept, vous pouvez vous arrêter là. La suite de l’article détaille un exemple de chiffrement avec RSA, c’est un peu plus velu. La partie suivante sert à être plus exhaustif sur le fonctionnement de l’algorithme.\nFaisons un exemple # Construisons une clef publique. Pour cela, rien de plus simple, prenons deux nombres premiers un peu grands, 47 591 et 29 179. Multiplions-les entre-eux et on obtient notre clef publique : 1 388 657 789, cette clef publique permet, avec une fonction mathématique un peu compliquée, de chiffrer un message, par exemple « coucou » en « j@45hqm!îjdf@kd74 ». J’insiste, la clef publique ne sert qu’à chiffrer le message. Cette clef publique n’est un secret pour personne : elle est publique. Même une personne mal intentionnée peut disposer de votre clef publique, ce n’est pas très grave.\nLe destinataire de ce message quant à lui dispose de sa clef privée, qu’il ne doit absolument pas dévoiler : ce sont les deux nombres premiers de départ, 47 591 et 29 179, qui est donc la décomposition en facteurs premiers de ma clef publique, et qui permet de déchiffrer le message cryptée, par exemple « j@45hqm!îjdf@kd74 » en « coucou ».\nOn retrouve bien le message d’origine, et pendant ce temps-là, personne n’a pu découvrir ce qu’il contenait. Pourquoi ça ? Parce qu’il est difficile de retrouver ma clef privée seulement à partir de la clef publique : il est difficile de décomposer 1 388 657 789 comme étant 47 591×29 179, cela est complexe algorithmiquement (souvenez-vous, on a parlé de la complexité plus haut). Or, seule la clef privée permet de déchiffrer « j@45hqm!îjdf@kd74 » en « coucou ».\nVoici un schéma qui récapitule ce que je viens d’expliquer.\nFigure 1 : 1re étape : Alice génère deux clefs. La clef publique (verte) qu’elle envoie à Bob et la clef privée (rouge) qu’elle conserve précieusement sans la divulguer à quiconque. Figure 2 : 2e et 3e étapes : Bob chiffre le message avec la clef publique d’Alice et envoie le texte chiffré. Alice déchiffre le message grâce à sa clef privée. RSA # Vous savez maintenant comment fonctionne RSA, l’un des protocoles de chiffrement les plus utilisés et connus au monde, qui ne repose sur rien d’autre qu’un problème mathématique rudimentaire. Alors rassurez-vous, présenté comme cela, ce protocole peut vous paraître faible et facilement contournable, mais il n’en est rien. La preuve en est qu’il tient en échec tous ceux qui ont voulu s’attaquer à lui depuis les années 70, et ils sont nombreux.\nFrançaises, Français, soyez fiers de vos couleurs puisque c’est une équipe de recherche française qui détient le record de performance pour avoir essayé de casser RSA. Sans rentrer dans les détails, ils sont arrivés, en 2012, à factoriser un nombre composé de 250 chiffres dans un temps raisonnable.\nPour aller plus loin # Les codes secrets, ScienceEtonnante [vidéo en ligne][consulté le 16 novembre 2020]. Le chiffrement sur le web (HTTPS)-Monsieur Bidouille, Monsieur Bidouille [vidéo en ligne][consulté le 16 novembre 2020]. Wikipédia, Cryptographie asymétrique [en ligne][consulté le 14 novembre 2020]. Wikipédia, RSA Factoring Challenge [en ligne][consulté le 12 novembre 2020]. Wikipédia, Nombre premier [en ligne][consulté le 10 novembre 2020]. Wikipédia, Problème P ≟ NP [en ligne][consulté le 14 novembre 2020]. Wikipédia, Analyse de la complexité des algorithmes [en ligne][consulté le 14 novembre 2020] Sources # Schéma 1 Schéma 2 MOOC 2015 “Arithmétique : en route pour la cryptographie”, université de Lille [cours composé de 6 parties, vidéo disponible en ligne] [consulté le 16 novembre 2020]. Les nombres premiers, Pierre Colmez [pdf en ligne][consulté le 16 novembre 2020]. Douglas Stinson, Cryptographie, théorie et pratique, Vuibert, 2003, 2e éd. (ISBN 2-7117-8676-5) Pierre Barthélemy, Robert Rolland, Pascal Véron et Hermes Lavoisier, Cryptographie, principes et mises en œuvre, Paris, Hermès science publications, 2005, 414 p. (ISBN 2-7462-1150-5) ","date":"21 novembre 2020","permalink":"/posts/rsa-ou-comment-vos-cours-de-4eme-vous-permettent-de-proteger-vos-codes-bancaires/","section":"Mes articles","summary":"Ce titre n’est (presque) pas une blague. VOUS avez le niveau pour comprendre comment vos données en ligne sont protégées.","title":"RSA Ou Comment Vos Cours De 4eme Vous Permettent De Proteger Vos Codes Bancaires"},{"content":"","date":"1 janvier 1","permalink":"/topics/","section":"Topics","summary":"","title":"Topics"}]